<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>Force-Directed Graph</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <style type="text/css">
        circle.node {
            cursor: pointer;
            stroke: #3182bd;
            stroke-width: 1.5px;
        }
        line.link {
            fill: none;
            stroke: #9ecae1;
            stroke-width: 1.5px;
        }
        div.tooltip {
            position: absolute;
            width: auto;
            height: auto;
            padding: 3px;
            font: 12px sans-serif;
            background: white;
            border: 0px;
            border-radius: 8px;
           
        }
        d.name{
            text-decoration: #3c53df;
        }
    </style>
</head>
<body>
<div id="chart"></div>
<script type="text/javascript">
    var w = 1060,
        h = 800,
        node,
        link,
        root,
        t;
    var COLLAPSE_LEVEL = 1;
    var force = d3.layout.force()
        .on("tick", tick)
        .size([w, h]);
    var vis = d3.select("#chart").append("svg:svg")
        .attr("width", w)
        .attr("height", h);
   root = {
        "name": "IKEA","size":1000,
        "description": " <br/>Customer service: 1 (888) 888-4532 <br/> Founder: Ingvar Kamprad <br/> Founded: 1943, Ã„lmhult, Sweden <br/> Headquarters: Delft, Netherlands",
        "link":"http://www.ikea.com/",
        "children": [
            {
                "name": "BJURSTA Extendable Table",
                "description":"<br/>Article ID: 301.162.64 <br/> Tags: Dining,Table,Wood <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                "image": "/image/table-image.png",
                "children": [
                    {
                        "name": "TP", "size": 3534},

                    {
                        "name": "Table top/Leaf", 
                        "description":" Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                        "children": [
                            {
                                "name": "TP", "size": 3534},
                            {
                                "name": "Particleboard", 
                                "description":" Part ID: 12323 <br/> Tags:  <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "TP", "size": 3534},
                                    {
                                        "name": "injection-molded plastic", 
                                        "description":" Part ID: 12123 <br/> Tags:  <br/> Country of origin: China",
                                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                        "children": [
                                            {
                                                "name": "TP", 
                                                "description":" Email: abc@gmail.com <br/> Contact Number: 53472348 ",
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "name": "Ash veneer", 
                                "description":" <b>Ash veneer</b> <br/> Part ID: 12123 <br/> Tags:  <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "TP", "size": 3534},
                                    {
                                        "name": "Ash wood", 
                                        "description":" <b>Ash wood</b> <br/> Part ID: 12123 <br/> Tags:  <br/> Country of origin: China",
                                        "children": [
                                            {
                                                "name": "TP", "size": 3534}
                                        ]
                                    },
                                    {
                                        "name": "feberboad", 
                                        "description":" <b>feberboad</b> <br/> Part ID: 12123 <br/> Tags:  <br/> Country of origin: China",
                                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                        "children": [
                                            {
                                                "name": "TP", "size": 3534}
                                        ]
                                    }
                                ]
                            },
                            {
                                "name": "Stain", 
                                "description":" <b>Stain</b> <br/> Part ID: 12123 <br/> Tags:  <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {"name": "TP", "size": 3534},
                                    {
                                        "name": "Stain Wood",
                                        "description":" <b>Stain Wood</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                        "children": [
                                            {
                                                "name": "TP", "size": 3534}
                                        ]
                                    }
                                ]
                            },
                            { "name": "Clear acrylic lacquer", 
                            "description":" <b>Clear acrylic lacquer</b> <br/> Part ID: 12123 <br/> Tags:  <br/> Country of origin: China",
                            "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "TP", "size": 3534},
                                    {
                                        "name": "Acrylic",
                                        "description":" <b>Table top/Leaf</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                        "children": [
                                            {
                                                "name": "TP", "size": 3534}
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "name": "Underframe",
                        "description":" <b>Underframe</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                        "children": [
                            {
                                "name": "Solid pine",
                                "description":" <b>Solid pine</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "TP", "size": 3534}
                                ]
                            },
                            {
                                "name": "Stain",
                                "description":" <b>Stain</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "TP", "size": 3534}
                                ]
                            },
                            {
                                "name": "Ash veneer",
                                "description":" <b>Ash veneer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "Ash wood",
                                        "description":" <b>Ash wood</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                        "children": [
                                            {
                                                "name": "TP", "size": 3534}
                                        ]
                                    },
                                    {
                                        "name": "feberboard",
                                        "description":" <b>feberboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                        "children": [
                                            {
                                                "name": "TP", "size": 3534}
                                        ]
                                    },
                                    {
                                        "name": "TP"
                                    }
                                ]
                            },
                            {
                                "name": "Clear acrylic lacquer",
                                "description":" <b>Clear acrylic lacquer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                                "children": [
                                    {
                                        "name": "TP"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "name": "Legs",
                        "description":" <b>Legs</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                        "children": [
                            {
                                "name": "Particleboard",
                                "description":" <b>Particleboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                            },
                            {
                                "name": "Ash veneer", 
                                "description":" <b>Ash veneer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/30116264/",
                            }
                        ]
                    }
                ]
            },
            {
                "name": "BRIMNES High cabinet with doors",
                "description":"<br/> Article ID: 403.022.89 <br/> Tags: Dining,Table,Wood <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                "children": [
                    {
                        "name": "Panel/Shelf",
                        "description":" <b>Panel/Shelf</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                        "children": [
                            {
                                "name": "Particleboard",
                                "description":" <b>Particleboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            },
                            {
                                "name": "Foil", 
                                "description":" <b>Foil</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            },
                            {
                                "name": "ABS plastic", 
                                "description":" <b>ABS plastic</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            }
                        ]
                    },
                    {
                        "name": "Back",
                        "description":" <b>Back</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                        "children": [
                            {
                                "name": "Fiberboard", 
                                "description":" <b>Fiberboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            },
                            {
                                "name": "Printed acrylic paint", 
                                "description":" <b>Printed acrylic paint</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            }
                        ]
                    },
                    {
                        "name": "Leg/ Rail",
                        "description":" <b>Leg/ Rail</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                        "children": [
                            {
                                "name": "Foil",
                                "description":" <b>Foilf</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            },
                            {
                                "name": "ABS plastic",
                                "description":" <b>ABS plastic</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            },
                            {
                                "name": "Fiberboard",
                                "description":" <b>Fiberboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/40302289/",
                            }
                        ]
                    }
                ]
            },
            {
                "name": "FLISAT Doll house/wall shelf",
                "description":"<br/> Article ID: 301.162.64 <br/> Tags: Dining,Table,Wood <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                "children": [
                    {
                        "name": "Main parts",
                        "description":" <b>Main parts</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                        "children": [
                            {
                                "name": "Particleboard", 
                                "description":" <b>Particleboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            },
                            {
                                "name": "Printed acrylic paint", 
                                "description":" <b>Printed acrylic paint</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            },
                            {
                                "name": "ABS plastic",
                                "description":" <b>ABS plastic</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            }
                        ]
                    },
                    {
                        "name": "Adjustable shelf",
                        "description":" <b>Adjustable shelf</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                        "children": [
                            {
                                "name": "Particleboard", 
                                "description":" <b>Particleboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            },
                            {
                                "name": "Fiberboard", 
                                "description":" <b>Fiberboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            }
                        ]
                    },
                    {
                        "name": "Back panel",
                        "description":" <b>Back panel</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                        "children": [
                            {
                                "name": "Fiberboard", 
                                "description":" <b>Fiberboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            },
                            {
                                "name": "Foil",
                                "description":" <b>Foil</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/50290785/",
                            }
                        ]
                    }
                ]
            },
            {
                "name": "HEMNES Mirror",
                "description":" <br/> Article ID: 301.162.64 <br/> Tags: Dining,Table,Wood <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                "children": [
                    {
                        "name": "Metal parts",
                        "description":" <b>Metal parts</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                        "children": [
                            {
                                "name": "Galvanized steel", 
                                "description":" <b>Galvanized steel</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                            },
                            {
                                "name": "Epoxy/polyester powder coating", 
                                "description":" <b>Epoxy/polyester powder coating</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                            }
                        ]
                    },
                    {
                        "name": "Mirror glass",
                        "description":" <b>Mirror Glass</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                        "children": [
                            {
                                "name": "Glass", 
                                "description":" <b>Glass</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                            },
                            {
                                "name": "Acrylic paint", 
                                "description":" <b>Acrylic paint</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/10121252/",
                            }
                        ]
                    }
                ]
            },
            {
                "name": "INGOLF Chair",
                "description":"<br/> Article ID: 301.162.64 <br/> Tags: Dining,Table,Wood <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                "children": [
                    {
                        "name": "Frame",
                        "children": [
                            {
                                "name": "Solid beech", 
                                "description":" <b>Solid beech</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Stain", 
                                "description":" <b>Stain</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Clear acrylic lacquer", 
                                "description":" <b>Clear acrylic lacquer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            }
                        ]
                    },
                    {"name": "Seat",
                    "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                        "children": [
                            {
                                "name": "Molded layer-glued wood veneer", 
                                "description":" <b>Molded layer-glued wood veneer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Beech veneer", 
                                "description":" <b>Beech veneer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Stain", 
                                "description":" <b>Stain</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Clear acrylic lacquer", 
                                "description":" <b>Clear acrylic lacquer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            }
                        ]
                    },
                    {
                        "name": "Backrest",
                        "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                        "children": [
                            {
                                "name": "Molded layer-glued wood veneer",
                                "description":" <b>Molded layer-glued wood veneer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Solid beech", 
                                "description":" <b>Solid beech</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Stain", 
                                "description":" <b>Stain</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            },
                            {
                                "name": "Clear acrylic lacquer", 
                                "description":" <b>Clear acrylic lacquer</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/70103250/",
                            }
                        ]
                    }
                ]
            },
            {
                "name": "MICKE Desk",
                "description":" <br/> Article ID: 301.162.64 <br/> Tags: Dining,Table,Wood <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                "children": [
                    {
                        "name": "Desk top",
                        "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                        "children": [
                            {
                                "name": "Particleboard",
                                "description":" <b>Particleboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            },
                            {
                                "name": "Paper", 
                                "description":" <b>Paper</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            },
                            {
                                "name": "Fiberboard", 
                                "description":" <b>Fiberboard</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            },
                            {
                                "name": "Acrylic paint", 
                                "description":" <b>Acrylic paint</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            },
                            {
                                "name": "ABS plastic", 
                                "description":" <b>ABS plastic</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            }
                        ]
                    },
                    {
                        "name": "Underframe for table top",
                        "description":" <b>Underframe for table top</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                        "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                        "children": [
                            {
                                "name": "Steel", 
                                "description":" <b>Steel</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            },
                            {
                                "name": "Pigmented epoxy/polyester powder coating", 
                                "description":" <b>Pigmented epoxy/polyester powder coating</b> <br/> Part ID: 12454 <br/> Tags: Wood, Stain, Ash veneer <br/> Color: Black <br/> Material: Wood <br/> Country of origin: China",
                                "link": "http://www.ikea.com/us/en/catalog/products/90214308/",
                            }
                        ]
                    }
                ]
            }
        ]
    };
    function parseLevel(node, level) {
        node.level = level;
        if (typeof node.children !== 'undefined') {
            node.children.forEach(function(children) {
                parseLevel(children, level + 1);
            });
        }
    }
    parseLevel(root, 0);
    // console.log(JSON.stringify(root, null, 2));
    update();
    function toggleAll(d) {
        if (d.children) {
            d.children.forEach(toggleAll);
            if (d.level < COLLAPSE_LEVEL){
                return;
            }
            toggle(d);
        }
    }
    // Initialize the display to show a few nodes.
    root.children.forEach(toggleAll);
    update(root);
    // });
    function update() {
        var nodes = flatten(root),
            links = d3.layout.tree().links(nodes);
        // Restart the force layout.
        force
            .nodes(nodes)
            .links(links)
            .charge(-1000)
            .linkDistance(100)
            .friction(0.5)
            .start();
        // Update the linksâ€¦
        link = vis.selectAll("line.link")
            .data(links, function(d) { return d.target.id; });
        // Enter any new links.
        link.enter().insert("svg:line", ".node")
            .attr("class", "link")
            .attr("x1", function(d) { return d.source.x; })
            .attr("y1", function(d) { return d.source.y; })
            .attr("x2", function(d) { return d.target.x; })
            .attr("y2", function(d) { return d.target.y; });
        // Exit any old links.
        link.exit().remove();
        // Changes line link color on hover
        link.on("mouseover", function() { d3.select(this).style("stroke","red"); });
        // Changes line linke color on mouseout
        link.on("mouseout", function() { d3.select(this).style("stroke","9ecae1"); });

        // Update the nodesâ€¦
        node = vis.selectAll("circle.node")
            .data(nodes, function(d) { return d.id; })
            .style("fill", color);
        // Enter any new nodes.
        node.enter().append("svg:circle")
            .attr("class", "node")
            .attr("cx", function(d) { return d.x; })
            .attr("cy", function(d) { return d.y; })
            .attr("r",  function (d) {
                if(d.name === "IKEA")
                   return "25" ;
                else if(d.name === "MICKE Desk")
                    return "20"
                else if(d.name === "INGOLF Chair")
                    return "20"
                else if(d.name === "FLISAT Doll house/wall shelf")
                    return "20"
                else if(d.name === "BRIMNES High cabinet with doors")
                    return "20"
                else if(d.name === "BJURSTA Extendable Table")
                    return "20"
                else if(d.name === "HEMNES Mirror")
                    return "20"
                return "15";
            })
            .style("fill", color)
            .on("dblclick", mouseover)
            //Tooltips
            .on("mouseover", function(d) {           
                div.transition()
                    .duration(500)    
                    .style("opacity", 0);
                div.transition()
                    .duration(200)    
                    .style("opacity", .9);    
                div .html(
                    '<img style="width:200px; height:150px; " src="'+d.image+'">'+
                    "<br/>" +
                    '<a href= "'+d.link+'" target="_blank">'  + // The first <a> tag
                    d.name +
                    "</a>" +                          // closing </a> tag
                "<br/>"  + d.description)     
                    .style("left", (d3.event.pageX) + "px")             
                    .style("top", (d3.event.pageY - 28) + "px");
                })
            .on("mouseout", function(d) {
                div.transition().duration(3000).style("opacity", 0);
            })
            .call(force.drag);
        // Exit any old nodes.
        node.exit().remove();
        t = vis.selectAll(".t-node")
            .data(nodes, function(d) { return d.id; })
            .style("fill", "black");
        // Enter any new nodes.
        t.enter().append("svg:text")
            .attr("class", "t-node")
            .attr("dx", "25px")
            .attr("y", 0)
            .text(function(d){return d.name + " " + (d.level ? d.level:'')});
        // .call(force.drag);
        // Exit any old nodes.
        t.exit().remove();
    }
    // add tooltips
    var div = d3.select("body").append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);
    function tick() {
        link.attr("x1", function(d) { return d.source.x; })
            .attr("y1", function(d) { return d.source.y; })
            .attr("x2", function(d) { return d.target.x; })
            .attr("y2", function(d) { return d.target.y; });
        node.attr("cx", function(d) { return d.x; })
            .attr("cy", function(d) { return d.y; });
        t.attr("x", function(d) { return d.x; })
            .attr("y", function(d) { return d.y; });
    }

    // Color leaf nodes orange, and packages white or blue.
    function color(d) {
        //console.log(d);
        if(d.name === "IKEA")
            return "#62eaab";
        return d._children ? "#3182bd" : d.children ? "#c6dbef" : "#fd8d3c";
    }

    // Toggle children on click.
    function mouseover(d) {
        if (d.children) {
            d._children = d.children;
            d.children = null;
        } else {
            d.children = d._children;
            d._children = null;
        }
        update();
    }
    // Returns a list of all nodes under the root.
    function flatten(root) {
        var nodes = [], i = 0;
        function recurse(node) {
            if (node.children) node.children.forEach(recurse);
            if (!node.id) node.id = ++i;
            nodes.push(node);
        }
        recurse(root);
        return nodes;
    }
    function toggle(d) {
        if (d.children) {
            d._children = d.children;
            d.children = null;
        } else {
            d.children = d._children;
            d._children = null;
        }
    }
</script>
</body>
</html>
